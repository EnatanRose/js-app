(()=>{"use strict";class t{constructor(t){this.$el=document.getElementById(t),this.init()}init(){}show(){this.$el.classList.remove("hide")}hide(){this.$el.classList.add("hide")}}function e(){localStorage.setItem("visited",JSON.stringify(!0)),this.$el.classList.toggle("hide")}function s(t){if(t.preventDefault(),t.target.classList.contains("tab")){Array.from(this.$el.querySelectorAll(".tab")).forEach((t=>{t.classList.remove("active")})),t.target.classList.add("active");const e=this.tabs.find((e=>e.name===t.target.dataset.name));console.log(this.tabs),this.tabs.forEach((t=>t.component.hide())),e.component.show()}}class i{constructor(t,e){this.container=t,this.controls=e}value(){const t={};return Object.keys(this.controls).forEach((e=>{t[e]=this.form[e].value})),t}}new class extends t{constructor(t){super(t)}init(){localStorage.getItem("visited")&&this.$el.classList.toggle("hide"),this.$el.querySelector(".js-header-start").addEventListener("click",e.bind(this))}}("header");const n=new class extends t{constructor(t){super(t),this.tabs=[]}init(){this.$el.addEventListener("click",s.bind(this))}registerTabs(t){this.tabs=t}}("navigation"),a=new class extends t{constructor(t){super(t)}}("posts"),o=new class extends t{constructor(t){super(t)}init(){this.$el.addEventListener("submit",submitHandler.bind(this)),this.form=new i(this.$el,{title:[],fulltext:[]})}submitHandler(t){t.preventDefault();const e={type:this.$el.type.value};console.log(e,this.form.value())}}("create"),r=new class extends t{constructor(t){super(t)}}("favorite");n.registerTabs([{name:"create",component:o},{name:"posts",component:a},{name:"favorite",component:r}])})();